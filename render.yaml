services:
  - type: web
    name: booking4u-frontend
    env: static
    buildCommand: |
      echo "Current directory: $(pwd)"
      echo "Listing contents:"
      ls -la
      echo "Changing to src/frontend directory..."
      cd src/frontend
      echo "Frontend directory contents:"
      ls -la
      echo "Installing dependencies..."
      npm ci
      echo "Building application..."
      npm run build
      echo "Build completed. Build directory contents:"
      ls -la build/
    staticPublishPath: ./src/frontend/build
    envVars:
      - key: NODE_ENV
        value: production
      - key: REACT_APP_API_URL
        value: https://booking4u-1.onrender.com/api
      - key: REACT_APP_BASE_URL
        value: https://booking4u-1.onrender.com
      - key: REACT_APP_SOCKET_URL
        value: https://booking4u-1.onrender.com
