services:
  - type: web
    name: booking4u-frontend-alt
    env: static
    buildCommand: |
      echo "=== ALTERNATIVE BUILD START ==="
      echo "Current directory: $(pwd)"
      echo "Listing all contents:"
      find . -name "package.json" -type f
      echo "Looking for frontend directory:"
      find . -name "frontend" -type d
      echo "Changing to frontend directory..."
      cd frontend
      echo "Current directory after cd: $(pwd)"
      echo "Frontend contents:"
      ls -la
      echo "Public directory contents:"
      ls -la public/
      echo "Installing dependencies..."
      npm install
      echo "Building application..."
      npm run build
      echo "Build directory contents:"
      ls -la build/
      echo "Verifying index.html:"
      cat build/index.html | head -5
      echo "=== ALTERNATIVE BUILD END ==="
    staticPublishPath: ./frontend/build
    envVars:
      - key: NODE_ENV
        value: production
      - key: REACT_APP_API_URL
        value: https://booking4u-1.onrender.com/api
      - key: REACT_APP_BASE_URL
        value: https://booking4u-1.onrender.com
      - key: REACT_APP_SOCKET_URL
        value: https://booking4u-1.onrender.com
